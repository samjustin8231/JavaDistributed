# 分布式系统引入

电商系统：
订单系统，库存系统，仓库系统，积分系统

10万注册用户，日活1000用户
如果百万注册用户，日活万级、十万级别；那么单体系统就不合适了；需要使用分布式系统。

下订单：
订单系统本地
订单系统 -> 调用库存系统，减库存
订单系统 -> 调用仓库系统，通知发货
订单系统 -> 调用积分系统，加积分

多个子系统相互协作，完成功能。

# SpringCloud


## 服务注册
注册中心比如： Eureka
Eureka中有服务注册表

比如：
库存系统 192.168.0.101:8080 | 192.168.0.111:8080
仓库系统 192.168.0.102:8080 | 192.168.0.112:8080
积分系统 192.168.0.103:8080

## 服务发现
服务注册信息，每个服务会缓存在本地

## 服务调用
比如：Feign
SpringCloud基于Http请求调用的

## 负载均衡
比如：Ribbon
服务调用的时候进行负载均衡

## 网关
Zuul/ Spring Cloud Gateway
服务不会直接暴露给前端，而是中间加一个网关

将服务暴露的接口配置在网关中，并且网关能感知到服务的地址。调用方不需要关心接口的具体地址，只需要调用网关，网关是知道服务的地址的。

网关还可以做些其他的事情：灰度发布，统一的限流，统一的熔断(超过的流量不调用)，统一的降级(服务异常时))，统一的授权认证


其他：
Hystrix，链路追踪，Hystrix会放在高可用那边说






